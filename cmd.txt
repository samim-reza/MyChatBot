# Docker Commands for MyChatBot

# Build Docker image (fast rebuild with cache)
sudo docker build -f Dockerfile.fast -t samim-chatbot:fast .

# Run container (first time or after removal)
sudo docker run -d -p 8000:8000 --env-file .env --name samim-chatbot-container samim-chatbot:fast

# Stop and remove container (before rebuilding/rerunning)
sudo docker stop samim-chatbot-container && sudo docker rm samim-chatbot-container

# View logs (follow mode)
sudo docker logs -f samim-chatbot-container

# View logs (last 50 lines)
sudo docker logs --tail 50 samim-chatbot-container

# Restart existing container (without rebuilding)
sudo docker restart samim-chatbot-container

# Start stopped container
sudo docker start samim-chatbot-container

# Stop container only
sudo docker stop samim-chatbot-container

# Check container status
sudo docker ps -a | grep samim-chatbot

# Quick rebuild and restart (after code changes)
sudo docker build -f Dockerfile.fast -t samim-chatbot:fast . && \
sudo docker stop samim-chatbot-container && \
sudo docker rm samim-chatbot-container && \
sudo docker run -d -p 8000:8000 --env-file .env --name samim-chatbot-container samim-chatbot:fast

# Access the app
# http://localhost:8000

# Stop old container
sudo docker stop samim-chatbot-container && sudo docker rm samim-chatbot-container

# Rebuild (fast if only code changed)
sudo docker build -f Dockerfile.fast -t samim-chatbot:fast .

# Run with .env file
sudo docker run -d -p 8000:8000 --env-file .env --name samim-chatbot-container samim-chatbot:fast

#restart
sudo docker start samim-chatbot-container

#check logs
sudo docker logs -f samim-chatbot-container

sudo docker build -f Dockerfile.fast -t samim-chatbot:fast . && \
sudo docker stop samim-chatbot-container && \
sudo docker rm samim-chatbot-container && \
sudo docker run -d -p 8000:8000 --env-file .env --name samim-chatbot-container samim-chatbot:fast